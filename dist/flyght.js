!function(modules,entry,mainEntry,parcelRequireName,globalName){var globalObject="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},previousRequire="function"==typeof globalObject.parcelRequiref9a0&&globalObject.parcelRequiref9a0,cache=previousRequire.cache||{},nodeRequire="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function newRequire(name,jumped){if(!cache[name]){if(!modules[name]){var currentRequire="function"==typeof globalObject.parcelRequiref9a0&&globalObject.parcelRequiref9a0;if(!jumped&&currentRequire)return currentRequire(name,!0);if(previousRequire)return previousRequire(name,!0);if(nodeRequire&&"string"==typeof name)return nodeRequire(name);var err=new Error("Cannot find module '"+name+"'");throw err.code="MODULE_NOT_FOUND",err}localRequire.resolve=function resolve(x){var id=modules[name][1][x];return null!=id?id:x},localRequire.cache={};var module=cache[name]=new newRequire.Module(name);modules[name][0].call(module.exports,localRequire,module,module.exports,this)}return cache[name].exports;function localRequire(x){var res=localRequire.resolve(x);return!1===res?{}:newRequire(res)}}newRequire.isParcelRequire=!0,newRequire.Module=function Module(moduleName){this.id=moduleName,this.bundle=newRequire,this.exports={}},newRequire.modules=modules,newRequire.cache=cache,newRequire.parent=previousRequire,newRequire.register=function(id,exports){modules[id]=[function(require,module){module.exports=exports},{}]},Object.defineProperty(newRequire,"root",{get:function(){return globalObject.parcelRequiref9a0}}),globalObject.parcelRequiref9a0=newRequire;for(var i=0;i<entry.length;i++)newRequire(entry[i]);var mainExports=newRequire("k209B");"object"==typeof exports&&"undefined"!=typeof module?module.exports=mainExports:"function"==typeof define&&define.amd&&define((function(){return mainExports}))}({k209B:[function(require,module,exports){var parcelHelpers=require("@parcel/transformer-js/src/esmodule-helpers.js"),_indexJs=require("./src/index.js"),_indexJsDefault=parcelHelpers.interopDefault(_indexJs);window.Flyght=_indexJsDefault.default},{"./src/index.js":"4ngrc","@parcel/transformer-js/src/esmodule-helpers.js":"3h34b"}],"4ngrc":[function(require,module,exports){require("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(exports);const defaultConfig={idElement:null,urlConfiguration:[],beforeUpdateContent:content=>content,afterUpdateContent:null},hashListener=e=>{try{let page=config.urlConfiguration.filter((page=>page.hash==window.location.hash||page.url==window.location.href));if(page.length<1)return!1;let{url,beforeFetch}=page=page.shift();if(!url)throw"No URL provided!";if("function"==typeof beforeFetch&&!(page=beforeFetch(page)))return!1;let{type,options,afterFetch}=page;(async(url,opts,callback)=>{let response=await fetch(url,Object.assign({},{method:"GET",headers:{"Content-Type":"text/html",Accept:"text/html"}},opts));if(response=await(callback?callback(response):response.text()),!response)throw"No response value returned";updateContent(response)})(url,{method:type,...options},afterFetch||!1)}catch(e1){errorHandler(e1)}},updateContent=content=>{try{let{beforeUpdateContent,afterUpdateContent}=config;if("function"==typeof beforeUpdateContent&&!(content=beforeUpdateContent(content)))return!1;element.innerHTML=content,"function"==typeof afterUpdateContent&&afterUpdateContent(element)}catch(e){errorHandler(e)}};function linkClickListener(e){e.stopPropagation(),e.preventDefault(),window.location.hash=e.target.hash||`#${e.target.name}`||`#${e.target.href}`}function errorHandler(e){console.error(e)}let config={},element=null,$context=null;exports.default={init:cfg=>{try{config=Object.assign({},defaultConfig,cfg),$context=window.document,element=config.idElement?$context.querySelector(config.idElement):(()=>{let $el=$context.querySelector("*[data-flyght-content]")||$context.body||$context;return config.idElement=$el.id||($el.id="flyghtContent"+1e3*Math.random()),$el})(),window.addEventListener("hashchange",hashListener,!1);let onload=window.onload;window.onload=e=>{hashListener(),onload(e)}}catch(e){errorHandler(e)}(()=>{try{let $links=$context.querySelectorAll("a[data-flyght-link]");$links&&$links.forEach((($el,key,$parent)=>{$el.addEventListener("click",linkClickListener,!1),config.urlConfiguration.push({hash:$el.hash||`#${$el.name||$el.href}`,url:$el.href,type:"GET"})}))}catch(e){errorHandler(e)}})()},config:()=>config,element:()=>element,linkClickListener,errorHandler}},{"@parcel/transformer-js/src/esmodule-helpers.js":"3h34b"}],"3h34b":[function(require,module,exports){exports.interopDefault=function(a){return a&&a.__esModule?a:{default:a}},exports.defineInteropFlag=function(a){Object.defineProperty(a,"__esModule",{value:!0})},exports.exportAll=function(source,dest){return Object.keys(source).forEach((function(key){"default"===key||"__esModule"===key||dest.hasOwnProperty(key)||Object.defineProperty(dest,key,{enumerable:!0,get:function(){return source[key]}})})),dest},exports.export=function(dest,destName,get){Object.defineProperty(dest,destName,{enumerable:!0,get})}},{}]},["k209B"]);
//# sourceMappingURL=flyght.js.map
